---
title: 初学Clojure—基本语法
date: 2017-01-15 00:02:55
categories:
- 函数编程
tags:
- clojure
- 并发编程语言
---

为了全面学习函数式编程语言，之前尝试了scala，不得不承认它的入门门槛略高。于是乎，决定从古老的新语言Clorue入手，作为Lisp的一种方言，语法上无疑是古老的，但它又运行在JVM上且有一些不错的机制，无疑是门新语言。

---

- ### 满篇的括号

Lisp语法最大特点就是一堆圆括号，任何函数调用都以“(”开始、“)”结束，函数名或函数本身与参数在括号里呈现前缀表达法。

``` clojure
(+ 1 3) ;=4
(add 3 5) ;=8
(or (= 1 2) (> 4 6)) ;=false
;下面为匿名函数
(#(apply * %) '(1 3 4 5 6)) ;=360
```

除了圆括号外，也有方括号“[]”，在clojure中，它既可以是向量的字面量，也可是函数的参数列表。

``` clojure
(def a_vector [1 3 4 5 6 6]) ;=#'user/a_vector
;或者是个函数的参数列表
(defn a_function [param1 param2]
  (do
    (print "i am function")))
```

当然少不了花括号“{}”，在Map与Set两种数据结构的字面量中体现。

``` clojure
{:key1 val1 :key2 val2}	;这是Map
#{ 1 2 3 } ;这是个Set
```
扯句无关的，在最原始的Lisp中几乎只有圆括号，例如与之最相近的一种方言Common Lisp。

- ### 优先级取决于括号

与其他语言一样，括号总伴随着表达式求值的优先级。

``` clojure
(+ (* (- 4 2) (/ 10 5)) (- 1 (+ 4 5)) 2) ;=5
```
在Lisp语言中，我们通常很容易获知代码的优先级，正如代码本身就是一棵抽象语法树，能快速知道最先被求值的是哪个节点。代码自身等同于AST，我们称之为“同像性”。

正因Clojure的“同像性”，也为它自己带来其他语言没有的特性—可以自定义语法糖，即自定义宏。

- ### 括号外的一些符号—字面量

要知道，Clojure是一种语法极其简易的语言，括号外也有一些能使代码简明易懂的符号，它们被叫做“字面量”。
